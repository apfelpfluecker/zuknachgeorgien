<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="eng-US" xml:lang="eng-US"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.7.32">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="žuk">

<title>Rethinking Toxic Masculinity | žuk nach Georgien – žuk nach Georgien</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for citations */
div.csl-bib-body { }
div.csl-entry {
  clear: both;
  margin-bottom: 0em;
}
.hanging-indent div.csl-entry {
  margin-left:2em;
  text-indent:-2em;
}
div.csl-left-margin {
  min-width:2em;
  float:left;
}
div.csl-right-inline {
  margin-left:2em;
  padding-left:1em;
}
div.csl-indent {
  margin-left: 2em;
}</style>


<script src="../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../site_libs/quarto-nav/headroom.min.js"></script>
<script src="../site_libs/clipboard/clipboard.min.js"></script>
<script src="../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../site_libs/quarto-search/fuse.min.js"></script>
<script src="../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../">
<script src="../site_libs/quarto-html/quarto.js" type="module"></script>
<script src="../site_libs/quarto-html/tabsets/tabsets.js" type="module"></script>
<script src="../site_libs/quarto-html/popper.min.js"></script>
<script src="../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../site_libs/quarto-html/anchor.min.js"></script>
<link href="../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../site_libs/quarto-html/quarto-syntax-highlighting-37eea08aefeeee20ff55810ff984fec1.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../site_libs/bootstrap/bootstrap-2c5292078e1a7ae210caeda0338ddad3.min.css" rel="stylesheet" append-hash="true" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>


<link rel="stylesheet" href="../styles.css">
</head>

<body class="nav-fixed fullcontent quarto-light">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top quarto-banner">
    <nav class="navbar navbar-expand " data-bs-theme="dark">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container mx-auto">
    <a class="navbar-brand" href="../index.html">
    <span class="navbar-title">žuk nach Georgien</span>
    </a>
  </div>
          <ul class="navbar-nav navbar-nav-scroll me-auto">
  <li class="nav-item">
    <a class="nav-link" href="../blog.html"> 
<span class="menu-text">Blog</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../archive.html"> 
<span class="menu-text">Archiv</span></a>
  </li>  
</ul>
          <ul class="navbar-nav navbar-nav-scroll ms-auto">
  <li class="nav-item compact">
    <a class="nav-link" href="https://liederpool-projekt.github.io/how-to-liederbuch/"> <i class="bi bi-music-note-list" role="img">
</i> 
<span class="menu-text"></span></a>
  </li>  
  <li class="nav-item compact">
    <a class="nav-link" href="https://www.youtube.com/@Katzenrunde"> <i class="bi bi-youtube" role="img">
</i> 
<span class="menu-text"></span></a>
  </li>  
  <li class="nav-item compact">
    <a class="nav-link" href="../blog.xml"> <i class="bi bi-rss" role="img">
</i> 
<span class="menu-text"></span></a>
  </li>  
</ul>
          <div class="quarto-navbar-tools">
</div>
            <div id="quarto-search" class="" title="Search"></div>
      </div> <!-- /container-fluid -->
    </nav>
</header>
<!-- content -->
<header id="title-block-header" class="quarto-title-block default page-columns page-full">
  <div class="quarto-title-banner page-columns page-full">
    <div class="quarto-title column-body">
      <h1 class="title">Rethinking Toxic Masculinity</h1>
            <p class="subtitle lead">Towards a Positive Narrative of Feminist Manhood</p>
                                <div class="quarto-categories">
                <div class="quarto-category">Academic</div>
                <div class="quarto-category">Politik</div>
              </div>
                  </div>
  </div>
    
  
  <div class="quarto-title-meta">

      <div>
      <div class="quarto-title-meta-heading">Author</div>
      <div class="quarto-title-meta-contents">
               <p>žuk </p>
            </div>
    </div>
      
      <div>
      <div class="quarto-title-meta-heading">Published</div>
      <div class="quarto-title-meta-contents">
        <p class="date">14. Juli 2025</p>
      </div>
    </div>
    
      
    </div>
    
  
  </header><div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
<!-- margin-sidebar -->
    
<!-- main -->
<main class="content quarto-banner-title-block" id="quarto-document-content">





<section id="sec-einleitung" class="level1" data-number="1">
<h1 data-number="1"><span class="header-section-number">1</span> Introduction</h1>
<p>In recent years, a notable political divide between young men and women has emerged across Western democracies. A much-cited <em>Financial Times</em> analysis from January 2024 reports that young women are becoming increasingly progressive, while young men are moving in a more conservative direction <span class="citation" data-cites="billmayerPolitischerGenderGapWerden2024">(<a href="#ref-billmayerPolitischerGenderGapWerden2024" role="doc-biblioref">Billmayer 2024</a>)</span>. This pattern is not confined to Germany: cross-national studies confirm a growing gender gap in political attitudes and values <span class="citation" data-cites="huddeSevenDecadesGender2023 langsaetherAreWomenMore2025">(<a href="#ref-huddeSevenDecadesGender2023" role="doc-biblioref">Hudde 2023</a>; <a href="#ref-langsaetherAreWomenMore2025" role="doc-biblioref">Langsæther and Knutsen 2025</a>)</span>.</p>
<p>This gender divide is not just statistical—it is ideological. While many young women increasingly align with progressive values, a growing number of young men drift in the opposite direction, especially in perisphere regions such as Eastern Germany. They turn to conservative or anti-feminist narratives, shaped by online spaces like the <em>manosphere</em> and reinforced by the silent rules of the <em>man box</em>—the unwritten code that defines masculinity through emotional repression, dominance, and detachment.</p>
<p>This growing distance reflects more than political disagreement. It points to a deeper crisis: young men lack a positive, emotionally hones narrative of who they can be. In that vacuum, toxic masculinity thrives—not because men are inherently violent, but because vulnerability has been framed as weakness for far too long.</p>
<p>However, why tend young men to turn to conservative, and particularly anti-feminist attitudes and contexts? And what does it need to reverse this trend?</p>
<p>This essay argues that we need a new understanding of “toxic masculinity”—not as a moral indictment of men, but as a structural and emotional condition that harms men themselves. By rethinking masculinity and acknowledging the emotional damage caused by patriarchal norms, we can lay the groundwork for a more inclusive, liberating narrative of manhood. A narrative that empowers men to embrace feminism—not despite being men, but because they are.</p>
</section>
<section id="rethinking-toxic-masculinity" class="level1" data-number="2">
<h1 data-number="2"><span class="header-section-number">2</span> Rethinking Toxic Masculinity</h1>
<p>In public discourse, the concept of <em>toxic masculinity</em> is often primarily associated with the harm men inflict on others—especially women. This perspective is valid and important. It reflects the reality of gender-based violence, domination, and the social enforcement of patriarchal norms. However, this focus overlaps significantly with Raewyn Connell’s concept of hegemonic masculinity, which already provides a robust theoretical framework to explain the structural subordination of women.</p>
<p>In this essay, I propose a complementary understanding of toxic masculinity:</p>
<blockquote class="blockquote">
<p>Toxic masculinity refers to internalized behaviors and belief systems that harm men themselves while enforcing heteronormative and patriarchal norms. These same patterns can—and often do—also harm others, especially women. But their primary function is to maintain the emotional, social, and psychological discipline of men within a patriarchal order.</p>
</blockquote>
<p>This reframing shifts the emphasis: from seeing toxic masculinity as something men <em>do to others</em> toward understanding what patriarchal systems <em>do to men themselves</em>. In this view, toxic masculinity is not a judgment about “bad men,” but an analysis of damaging masculine norms that reproduce themselves across generations, even in th absence of overt violence or explicit domination.</p>
<p>It is crucial to underline: toxic masculinity is not an anti-male concept. On the contrary, it is a critical tool for understanding why many men suffer under the very system that appears to privilege them. It highlights emotional repression, social isolation, and the fear of vulnerability as symptoms of a wider system that restricts men’s full humanity.</p>
</section>
<section id="the-everyday-reproduction-of-toxic-masculinity" class="level1" data-number="3">
<h1 data-number="3"><span class="header-section-number">3</span> The Everyday Reproduction of Toxic Masculinity</h1>
<p>Toxic masculinity is not a choice—it is a form of socialization.<a href="#fn1" class="footnote-ref" id="fnref1" role="doc-noteref"><sup>1</sup></a> Most men never actively chose to become emotionally repressed or disconnected from their needs. Instead, they were trained into these roles, often in subtle and systemic ways.</p>
<p>Surprisingly, this training does not necessarily come from the parents. Even in households where boys are raised with emotional awareness, non-violent communication, and sensitivity to gender roles, the world outside the home quickly counteracts these efforts. One boy in a classroom—carrying toxic patterns learned from home—can set a standard. If he mocks sensitivity or celebrates dominance, that behavior is likely to be perceived as “cool.”</p>
<p>Children spend a significant amount of their waking life in school. As they grow older, the influence of their parents diminishes, while peer dynamics become more dominant. Adapting to toxic norms becoms a survival strategy, not a conscious act. Boys do not choose to suppress emotions—they do so to protect themselves.</p>
<p>Let me illustrate this with two personal experiences:</p>
<p>When I was a young boy visiting my grandparents, I wore a dress. My grandfather, visibly irritated, said: “<em>You don’t do that</em>.“ No discussion, no explanation—just a judgment that cut deep. His discomfort with my choice marked a clear boundary of what was “acceptable“ for a boy.</p>
<p>Another time, during a football match, our team faced an unfair referee. Frustrated and overwhelmed, I signaled my coach—a man the age of my parents—to substitute me. I sat next to him, tears in my eyes. His only reaction: “<em>Please, don’t start now this.”</em> The message was clear: Emotions have no place here.</p>
<p>These moments are not exceptions—they are symptoms of a culture that trains boys to be “real men”: emotionless, invulnerable, self-suppressing. This is toxic, because boys long to be loved just like anyone else. But love requires vulnerability. And many boys learn early that making themselves vulnerable leads to pain, shame, or rejection.</p>
<p>Worse still, they are rarely taught how to handle that pain. They are told not to feel, not to cry, not to need—and so they bury it. This is the emotional core of toxic masculinity. Not cruelty, not power-lust, but loneliness and emotional illiteracy.</p>
</section>
<section id="the-consequences-mental-health-violence-disconnection" class="level1" data-number="4">
<h1 data-number="4"><span class="header-section-number">4</span> The Consequences: Mental Health, Violence, Disconnection</h1>
<p>What are the consequences of toxic masculinity for men themselves? One of the most devastating is visible in mental health statistics: around 75% of all suicides in Germany are committed by men (<a href="#fig-suizidrate" class="quarto-xref">Figure&nbsp;1</a>). This is despite the fact that, statistically, women are more likely to experience symptoms of depression. According to a meta-analysis by Salk et al. <span class="citation" data-cites="salkGenderDifferencesDepression2017a">(<a href="#ref-salkGenderDifferencesDepression2017a" role="doc-biblioref">2017, 27</a>)</span>, this paradox may be due to gendered expectations that discourage men from recognizing or expressing psychological distress. Depression in men often goes unnoticed—by themselves and others—until it becomes fatal.</p>
<div class="cell">
<div class="cell-output-display">
<div id="fig-suizidrate" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-suizidrate-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="2025-07-08_toxic-masculinity_files/figure-html/fig-suizidrate-1.png" class="img-fluid figure-img" style="width:50.0%">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-suizidrate-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;1: Suicides in Germany 2023 by gender. Data: Destatis.
</figcaption>
</figure>
</div>
</div>
</div>
<p>This silence is no coincidence. In a patriarchal culture, talking about feelings, needs, and vulnerability is often coded as unmanly. Emotional honesty conflicts with the <em>man box</em> norms of strength, stoicism, and self-control. The cost of being a “real man” is often one’s inner life. Toxic masculinity does not simply harm others—it isolates, represses, and destroys from within.</p>
<p>At the same time, men are also overrepresented on the other end of the spectrum: more than 90% of all prisoners in Germany are male (<a href="#fig-knast" class="quarto-xref">Figure&nbsp;2</a>). This reflects a different consequence of toxic masculinity: the pressure to act strong, dominant, and aggressive—especially when emotional expression is not an option. If vulnerability is forbidden, sometimes, violence becomes the last acceptable form of expression.</p>
<div class="cell">
<div class="cell-output-display">
<div id="fig-knast" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-knast-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="2025-07-08_toxic-masculinity_files/figure-html/fig-knast-1.png" class="img-fluid figure-img" style="width:50.0%">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-knast-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;2: Prisoners in Germany on 31 March 2024 by gender. Data: Destatis.
</figcaption>
</figure>
</div>
</div>
</div>
<p>These two statistics—suicide and incarceration—represent two sides of the same coin: inward destruction and outward aggression. Both are rooted in the same toxic norms of masculinity. And both show that the patriarchy is not just a system that privileges men over others—it is a system that also devours them from within. Toxic masculinity does not make men powerful—it makes them silent, lonely, and dangerous. First to themselves, then to others.</p>
</section>
<section id="feminism-as-liberation" class="level1" data-number="5">
<h1 data-number="5"><span class="header-section-number">5</span> Feminism as Liberation</h1>
<p>Bearing this in mind, feminism is not a threat to men—it is an invitation. An invitation to free ourselves from rigid gender roles, destructive expectations, and the emotional repression demanded by patriarchy. It is not a war against men, but against a system that limits everyone.</p>
<p>As Mareike Fallwickl puts it, men need feminism to be liberated from these constraints—and feminism needs men because without them, the struggle against patriarchy has no chance <span class="citation" data-cites="fallwicklLiebeJorindeOder2025">(<a href="#ref-fallwicklLiebeJorindeOder2025" role="doc-biblioref">Fallwickl 2025</a>)</span>. Feminism is for everyone.</p>
<p>What we need now is a culture of reconciliation, not accusation. We do not need a narrative of collective male guilt, but one of shared liberation. A new narrative where men are allowed—encouraged even—to be soft, to love, to doubt, to care, to take emotional and domestic responsibility.</p>
<p>Being a man should not mean losing oneself. It should mean being fully human.</p>
</section>
<section id="conclusion" class="level1" data-number="6">
<h1 data-number="6"><span class="header-section-number">6</span> Conclusion</h1>
<p>Toxic masculinity is often misunderstood as an accusation—of men, by women. But it is better understood as a warning: a sign that something is deeply wrong with how our society defines manhood. Men are taught to be strong and emotionless—but this kind of education is harmful to everyone. We are all victims of this system.</p>
<p>This essay has argued for a reframing of toxic masculinity: not merely as a threat to others, but as a form of self-destruction in disguise. From emotional repression to untreated depression and high suicide rates, the damage is real—and it demands a collective response.</p>
<p>Feminism offers that response. It is not about blaming men, but about freeing them—from the narrow scripts of dominance and denial. It offers a new story: one where men are allowed to be fully human. To feel. To care. To grow.</p>
<p>If we want a better future—for everyone—we must stop telling boys to “man up” and start telling them better stories about what it means to be a man. Stories that say, simply: You are enough. Just as you are.</p>
</section>
<section id="references" class="level1 unnumbered">




</section>


<p>Made with <a href="https://quarto.org">Quarto</a>.</p><div id="quarto-appendix" class="default"><section class="quarto-appendix-contents" role="doc-bibliography" id="quarto-bibliography"><h2 class="anchored quarto-appendix-heading">References</h2><div id="refs" class="references csl-bib-body hanging-indent" data-entry-spacing="0" role="list">
<div id="ref-billmayerPolitischerGenderGapWerden2024" class="csl-entry" role="listitem">
Billmayer, Luisa. 2024. <span>“Politischer Gender-Gap. Werden junge Frauen linker und Männer rechter? <span>ZDFheute</span>.”</span> February 25, 2024. <a href="https://www.zdfheute.de/politik/deutschland/politischer-gender-gap-100.html">https://www.zdfheute.de/politik/deutschland/politischer-gender-gap-100.html</a>.
</div>
<div id="ref-fallwicklLiebeJorindeOder2025" class="csl-entry" role="listitem">
Fallwickl, Mareike. 2025. <em>Liebe Jorinde oder Warum wir einen neuen Feminismus des Miteinanders brauchen</em>. München: Kjona.
</div>
<div id="ref-huddeSevenDecadesGender2023" class="csl-entry" role="listitem">
Hudde, Ansgar. 2023. <span>“Seven Decades of Gender Differences in German Voting Behavior.”</span> <em>Kölner Zeitschrift Für Soziologie Und Sozialpsychologie</em> 75 (2): 143–70. <a href="https://doi.org/10.1007/s11577-023-00904-4">https://doi.org/10.1007/s11577-023-00904-4</a>.
</div>
<div id="ref-langsaetherAreWomenMore2025" class="csl-entry" role="listitem">
Langsæther, Peter Egge, and Carl Henrik Knutsen. 2025. <span>“Are Women More Progressive Than Men? Attitudinal Gender Gaps in West European Democracies.”</span> <em>International Political Science Review</em> 46 (3): 442–53. <a href="https://doi.org/10.1177/01925121241280069">https://doi.org/10.1177/01925121241280069</a>.
</div>
<div id="ref-salkGenderDifferencesDepression2017a" class="csl-entry" role="listitem">
Salk, Rachel H., Janet S. Hyde, and Lyn Y. Abramson. 2017. <span>“Gender Differences in Depression in Representative National Samples: Meta-Analyses of Diagnoses and Symptoms.”</span> <em>Psychological Bulletin</em>, April, 1–40. <a href="https://doi.org/10.1037/bul0000102">https://doi.org/10.1037/bul0000102</a>.
</div>
</div></section><section id="footnotes" class="footnotes footnotes-end-of-document" role="doc-endnotes"><h2 class="anchored quarto-appendix-heading">Footnotes</h2>

<ol>
<li id="fn1"><p>I do not intend to excuse toxic behavior or deny personal responsibility. Quite the opposite: the older boys and men become, the more their responsibility for their actions increases. There is no excuse for toxic behavior—this essay seeks to understand, not to justify it.<a href="#fnref1" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
</ol>
</section></div></main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
  window.document.addEventListener("DOMContentLoaded", function (event) {
    const icon = "";
    const anchorJS = new window.AnchorJS();
    anchorJS.options = {
      placement: 'right',
      icon: icon
    };
    anchorJS.add('.anchored');
    const isCodeAnnotation = (el) => {
      for (const clz of el.classList) {
        if (clz.startsWith('code-annotation-')) {                     
          return true;
        }
      }
      return false;
    }
    const onCopySuccess = function(e) {
      // button target
      const button = e.trigger;
      // don't keep focus
      button.blur();
      // flash "checked"
      button.classList.add('code-copy-button-checked');
      var currentTitle = button.getAttribute("title");
      button.setAttribute("title", "Copied!");
      let tooltip;
      if (window.bootstrap) {
        button.setAttribute("data-bs-toggle", "tooltip");
        button.setAttribute("data-bs-placement", "left");
        button.setAttribute("data-bs-title", "Copied!");
        tooltip = new bootstrap.Tooltip(button, 
          { trigger: "manual", 
            customClass: "code-copy-button-tooltip",
            offset: [0, -8]});
        tooltip.show();    
      }
      setTimeout(function() {
        if (tooltip) {
          tooltip.hide();
          button.removeAttribute("data-bs-title");
          button.removeAttribute("data-bs-toggle");
          button.removeAttribute("data-bs-placement");
        }
        button.setAttribute("title", currentTitle);
        button.classList.remove('code-copy-button-checked');
      }, 1000);
      // clear code selection
      e.clearSelection();
    }
    const getTextToCopy = function(trigger) {
        const codeEl = trigger.previousElementSibling.cloneNode(true);
        for (const childEl of codeEl.children) {
          if (isCodeAnnotation(childEl)) {
            childEl.remove();
          }
        }
        return codeEl.innerText;
    }
    const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
      text: getTextToCopy
    });
    clipboard.on('success', onCopySuccess);
    if (window.document.getElementById('quarto-embedded-source-code-modal')) {
      const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
        text: getTextToCopy,
        container: window.document.getElementById('quarto-embedded-source-code-modal')
      });
      clipboardModal.on('success', onCopySuccess);
    }
      var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
      var mailtoRegex = new RegExp(/^mailto:/);
        var filterRegex = new RegExp("https:\/\/blog\.zukarton\.eu");
      var isInternal = (href) => {
          return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
      }
      // Inspect non-navigation links and adorn them if external
     var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
      for (var i=0; i<links.length; i++) {
        const link = links[i];
        if (!isInternal(link.href)) {
          // undo the damage that might have been done by quarto-nav.js in the case of
          // links that we want to consider external
          if (link.dataset.originalHref !== undefined) {
            link.href = link.dataset.originalHref;
          }
            // target, if specified
            link.setAttribute("target", "_blank");
            if (link.getAttribute("rel") === null) {
              link.setAttribute("rel", "noopener");
            }
        }
      }
    function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
      const config = {
        allowHTML: true,
        maxWidth: 500,
        delay: 100,
        arrow: false,
        appendTo: function(el) {
            return el.parentElement;
        },
        interactive: true,
        interactiveBorder: 10,
        theme: 'quarto',
        placement: 'bottom-start',
      };
      if (contentFn) {
        config.content = contentFn;
      }
      if (onTriggerFn) {
        config.onTrigger = onTriggerFn;
      }
      if (onUntriggerFn) {
        config.onUntrigger = onUntriggerFn;
      }
      window.tippy(el, config); 
    }
    const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
    for (var i=0; i<noterefs.length; i++) {
      const ref = noterefs[i];
      tippyHover(ref, function() {
        // use id or data attribute instead here
        let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
        try { href = new URL(href).hash; } catch {}
        const id = href.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note) {
          return note.innerHTML;
        } else {
          return "";
        }
      });
    }
    const xrefs = window.document.querySelectorAll('a.quarto-xref');
    const processXRef = (id, note) => {
      // Strip column container classes
      const stripColumnClz = (el) => {
        el.classList.remove("page-full", "page-columns");
        if (el.children) {
          for (const child of el.children) {
            stripColumnClz(child);
          }
        }
      }
      stripColumnClz(note)
      if (id === null || id.startsWith('sec-')) {
        // Special case sections, only their first couple elements
        const container = document.createElement("div");
        if (note.children && note.children.length > 2) {
          container.appendChild(note.children[0].cloneNode(true));
          for (let i = 1; i < note.children.length; i++) {
            const child = note.children[i];
            if (child.tagName === "P" && child.innerText === "") {
              continue;
            } else {
              container.appendChild(child.cloneNode(true));
              break;
            }
          }
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(container);
          }
          return container.innerHTML
        } else {
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(note);
          }
          return note.innerHTML;
        }
      } else {
        // Remove any anchor links if they are present
        const anchorLink = note.querySelector('a.anchorjs-link');
        if (anchorLink) {
          anchorLink.remove();
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        if (note.classList.contains("callout")) {
          return note.outerHTML;
        } else {
          return note.innerHTML;
        }
      }
    }
    for (var i=0; i<xrefs.length; i++) {
      const xref = xrefs[i];
      tippyHover(xref, undefined, function(instance) {
        instance.disable();
        let url = xref.getAttribute('href');
        let hash = undefined; 
        if (url.startsWith('#')) {
          hash = url;
        } else {
          try { hash = new URL(url).hash; } catch {}
        }
        if (hash) {
          const id = hash.replace(/^#\/?/, "");
          const note = window.document.getElementById(id);
          if (note !== null) {
            try {
              const html = processXRef(id, note.cloneNode(true));
              instance.setContent(html);
            } finally {
              instance.enable();
              instance.show();
            }
          } else {
            // See if we can fetch this
            fetch(url.split('#')[0])
            .then(res => res.text())
            .then(html => {
              const parser = new DOMParser();
              const htmlDoc = parser.parseFromString(html, "text/html");
              const note = htmlDoc.getElementById(id);
              if (note !== null) {
                const html = processXRef(id, note);
                instance.setContent(html);
              } 
            }).finally(() => {
              instance.enable();
              instance.show();
            });
          }
        } else {
          // See if we can fetch a full url (with no hash to target)
          // This is a special case and we should probably do some content thinning / targeting
          fetch(url)
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.querySelector('main.content');
            if (note !== null) {
              // This should only happen for chapter cross references
              // (since there is no id in the URL)
              // remove the first header
              if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
                note.children[0].remove();
              }
              const html = processXRef(null, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      }, function(instance) {
      });
    }
        let selectedAnnoteEl;
        const selectorForAnnotation = ( cell, annotation) => {
          let cellAttr = 'data-code-cell="' + cell + '"';
          let lineAttr = 'data-code-annotation="' +  annotation + '"';
          const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
          return selector;
        }
        const selectCodeLines = (annoteEl) => {
          const doc = window.document;
          const targetCell = annoteEl.getAttribute("data-target-cell");
          const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
          const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
          const lines = annoteSpan.getAttribute("data-code-lines").split(",");
          const lineIds = lines.map((line) => {
            return targetCell + "-" + line;
          })
          let top = null;
          let height = null;
          let parent = null;
          if (lineIds.length > 0) {
              //compute the position of the single el (top and bottom and make a div)
              const el = window.document.getElementById(lineIds[0]);
              top = el.offsetTop;
              height = el.offsetHeight;
              parent = el.parentElement.parentElement;
            if (lineIds.length > 1) {
              const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
              const bottom = lastEl.offsetTop + lastEl.offsetHeight;
              height = bottom - top;
            }
            if (top !== null && height !== null && parent !== null) {
              // cook up a div (if necessary) and position it 
              let div = window.document.getElementById("code-annotation-line-highlight");
              if (div === null) {
                div = window.document.createElement("div");
                div.setAttribute("id", "code-annotation-line-highlight");
                div.style.position = 'absolute';
                parent.appendChild(div);
              }
              div.style.top = top - 2 + "px";
              div.style.height = height + 4 + "px";
              div.style.left = 0;
              let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
              if (gutterDiv === null) {
                gutterDiv = window.document.createElement("div");
                gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
                gutterDiv.style.position = 'absolute';
                const codeCell = window.document.getElementById(targetCell);
                const gutter = codeCell.querySelector('.code-annotation-gutter');
                gutter.appendChild(gutterDiv);
              }
              gutterDiv.style.top = top - 2 + "px";
              gutterDiv.style.height = height + 4 + "px";
            }
            selectedAnnoteEl = annoteEl;
          }
        };
        const unselectCodeLines = () => {
          const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
          elementsIds.forEach((elId) => {
            const div = window.document.getElementById(elId);
            if (div) {
              div.remove();
            }
          });
          selectedAnnoteEl = undefined;
        };
          // Handle positioning of the toggle
      window.addEventListener(
        "resize",
        throttle(() => {
          elRect = undefined;
          if (selectedAnnoteEl) {
            selectCodeLines(selectedAnnoteEl);
          }
        }, 10)
      );
      function throttle(fn, ms) {
      let throttle = false;
      let timer;
        return (...args) => {
          if(!throttle) { // first call gets through
              fn.apply(this, args);
              throttle = true;
          } else { // all the others get throttled
              if(timer) clearTimeout(timer); // cancel #2
              timer = setTimeout(() => {
                fn.apply(this, args);
                timer = throttle = false;
              }, ms);
          }
        };
      }
        // Attach click handler to the DT
        const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
        for (const annoteDlNode of annoteDls) {
          annoteDlNode.addEventListener('click', (event) => {
            const clickedEl = event.target;
            if (clickedEl !== selectedAnnoteEl) {
              unselectCodeLines();
              const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
              if (activeEl) {
                activeEl.classList.remove('code-annotation-active');
              }
              selectCodeLines(clickedEl);
              clickedEl.classList.add('code-annotation-active');
            } else {
              // Unselect the line
              unselectCodeLines();
              clickedEl.classList.remove('code-annotation-active');
            }
          });
        }
    const findCites = (el) => {
      const parentEl = el.parentElement;
      if (parentEl) {
        const cites = parentEl.dataset.cites;
        if (cites) {
          return {
            el,
            cites: cites.split(' ')
          };
        } else {
          return findCites(el.parentElement)
        }
      } else {
        return undefined;
      }
    };
    var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
    for (var i=0; i<bibliorefs.length; i++) {
      const ref = bibliorefs[i];
      const citeInfo = findCites(ref);
      if (citeInfo) {
        tippyHover(citeInfo.el, function() {
          var popup = window.document.createElement('div');
          citeInfo.cites.forEach(function(cite) {
            var citeDiv = window.document.createElement('div');
            citeDiv.classList.add('hanging-indent');
            citeDiv.classList.add('csl-entry');
            var biblioDiv = window.document.getElementById('ref-' + cite);
            if (biblioDiv) {
              citeDiv.innerHTML = biblioDiv.innerHTML;
            }
            popup.appendChild(citeDiv);
          });
          return popup.innerHTML;
        });
      }
    }
  });
  </script>
</div> <!-- /content -->




</body></html>